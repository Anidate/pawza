import{w as p,H as u,E as h,O as j,r as C,F as f,p as g,_ as i,j as s,q as b,v,a8 as w,ae as m,S as x,ak as R,ab as y,a5 as M,c as S,al as N}from"./index-Bsc0yxV1.js";import{f as U}from"./chats-DQwd2Er5.js";function k(e){return p("MuiCard",e)}u("MuiCard",["root"]);const _=["className","raised"],$=e=>{const{classes:t}=e;return v({root:["root"]},k,t)},L=h(j,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),A=C.forwardRef(function(t,r){const o=f({props:t,name:"MuiCard"}),{className:d,raised:a=!1}=o,c=g(o,_),n=i({},o,{raised:a}),l=$(n);return s.jsx(L,i({className:b(l.root,d),elevation:a?8:void 0,ref:r,ownerState:n},c))}),P=A;function W(e){return p("MuiCardContent",e)}u("MuiCardContent",["root"]);const z=["className","component"],B=e=>{const{classes:t}=e;return v({root:["root"]},W,t)},E=h("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),F=C.forwardRef(function(t,r){const o=f({props:t,name:"MuiCardContent"}),{className:d,component:a="div"}=o,c=g(o,z),n=i({},o,{component:a}),l=B(n);return s.jsx(E,i({as:a,className:b(l.root,d),ownerState:n,ref:r},c))}),q=F;function I({profilePic:e,name:t,lastMessage:r,to:o}){return s.jsxs(P,{component:w,to:o,sx:{display:"flex",alignItems:"center",textDecoration:"none",margin:"0.5rem 0",padding:"0.5rem",borderRadius:"12px",backgroundColor:"#fff",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)"}},children:[e?s.jsx(m,{sx:{bgcolor:"#3f51b5",marginRight:"1rem",fontSize:"2rem",width:"64px",height:"64px"},src:e}):s.jsx(m,{sx:{bgcolor:"#3f51b5",marginRight:"1rem",fontSize:"2rem",width:"64px",height:"64px"},children:t.charAt(0)}),s.jsxs(q,{sx:{flex:"1",padding:"0.5rem"},children:[s.jsx(x,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"#333"},children:t}),s.jsx(x,{variant:"body2",color:r?"text.primary":"text.secondary",sx:{marginTop:"0.5rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,height:"3em",lineHeight:"1.5em"},children:r||"No messages yet"})]})]})}function O(){const{data:e=[],isLoading:t,error:r}=R({queryKey:["chats"],queryFn:U});return t?s.jsx(y,{}):r?s.jsx("div",{children:"Error loading chats"}):s.jsxs(M,{sx:{width:"100%",backgroundColor:"#fff",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",padding:"1rem",height:"100%",overflowY:"auto",boxSizing:"border-box",textAlign:"left"},children:[s.jsx(x,{variant:"h4",sx:{fontWeight:"bold",marginBottom:"1rem",textAlign:"center",color:"#333"},children:"Chats"}),e.map(o=>s.jsx(I,{name:`${o.matchedUser.firstName} ${o.matchedUser.lastName}`,lastMessage:o.latestMessage,profilePic:o.matchedUser.profilePic,to:`/chats/${o._id}`},o._id))]})}function T(){return s.jsx(O,{})}const K=S("/chats/")({component:N(T),pendingComponent:y});export{K as Route};
