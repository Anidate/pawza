import{w as p,H as u,E as h,O as j,r as C,F as f,p as g,_ as i,j as s,q as b,v,a5 as w,ab as m,S as x,ah as R,a6 as y,a4 as M,c as S,ai as N}from"./index-C31y_Pqt.js";import{f as U}from"./chats-Dg2olIt2.js";function _(t){return p("MuiCard",t)}u("MuiCard",["root"]);const $=["className","raised"],k=t=>{const{classes:e}=t;return v({root:["root"]},_,e)},L=h(j,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),A=C.forwardRef(function(e,r){const o=f({props:e,name:"MuiCard"}),{className:d,raised:a=!1}=o,c=g(o,$),n=i({},o,{raised:a}),l=k(n);return s.jsx(L,i({className:b(l.root,d),elevation:a?8:void 0,ref:r,ownerState:n},c))}),P=A;function W(t){return p("MuiCardContent",t)}u("MuiCardContent",["root"]);const z=["className","component"],B=t=>{const{classes:e}=t;return v({root:["root"]},W,e)},E=h("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),F=C.forwardRef(function(e,r){const o=f({props:e,name:"MuiCardContent"}),{className:d,component:a="div"}=o,c=g(o,z),n=i({},o,{component:a}),l=B(n);return s.jsx(E,i({as:a,className:b(l.root,d),ownerState:n,ref:r},c))}),q=F;function I({profilePic:t,name:e,lastMessage:r,to:o}){return s.jsxs(P,{component:w,to:o,sx:{display:"flex",alignItems:"center",textDecoration:"none",margin:"0.5rem 0",padding:"0.5rem",borderRadius:"12px",backgroundColor:"#fff",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)"}},children:[t?s.jsx(m,{sx:{bgcolor:"#3f51b5",marginRight:"1rem",fontSize:"2rem",width:"64px",height:"64px"},src:t}):s.jsx(m,{sx:{bgcolor:"#3f51b5",marginRight:"1rem",fontSize:"2rem",width:"64px",height:"64px"},children:e.charAt(0)}),s.jsxs(q,{sx:{flex:"1",padding:"0.5rem"},children:[s.jsx(x,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"#333"},children:e}),s.jsx(x,{variant:"body2",color:r?"text.primary":"text.secondary",sx:{marginTop:"0.5rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,height:"3em",lineHeight:"1.5em"},children:r||"No messages yet"})]})]})}function O(){const{data:t=[],isLoading:e,error:r}=R({queryKey:["chats"],queryFn:U});return e?s.jsx(y,{}):r?s.jsx("div",{children:"Error loading chats"}):s.jsxs(M,{sx:{width:"100%",backgroundColor:"#fff",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",padding:"1rem",height:"100%",overflowY:"auto",boxSizing:"border-box",textAlign:"left"},children:[s.jsx(x,{variant:"h4",sx:{fontWeight:"bold",marginBottom:"1rem",textAlign:"center",color:"#333"},children:"Chats"}),t.map(o=>s.jsx(I,{name:`${o.matchedUser.firstName} ${o.matchedUser.lastName}`,lastMessage:o.latestMessage,profilePic:o.matchedUser.profilePic,to:`/chats/${o._id}`},o._id))]})}function T(){return s.jsx(O,{})}const K=S("/chats/")({component:N(T),pendingComponent:y});export{K as Route};
