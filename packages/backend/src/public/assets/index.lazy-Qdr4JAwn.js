import{w as p,H as u,E as g,O as f,r as b,F as y,p as C,_ as l,j as e,q as v,v as j,a8 as w,ae as R,a5 as d,S as a,ak as S,ab as c,c as U,al as k}from"./index-ChAJvOQG.js";import{f as A}from"./chats-CHUlqGR2.js";function L(s){return p("MuiCard",s)}u("MuiCard",["root"]);const M=["className","raised"],N=s=>{const{classes:o}=s;return j({root:["root"]},L,o)},_=g(f,{name:"MuiCard",slot:"Root",overridesResolver:(s,o)=>o.root})(()=>({overflow:"hidden"})),P=b.forwardRef(function(o,r){const t=y({props:o,name:"MuiCard"}),{className:x,raised:n=!1}=t,h=C(t,M),i=l({},t,{raised:n}),m=N(i);return e.jsx(_,l({className:v(m.root,x),elevation:n?8:void 0,ref:r,ownerState:i},h))}),W=P;function E({profilePic:s,name:o,lastMessage:r,to:t}){return e.jsxs(W,{component:w,to:t,sx:{display:"flex",alignItems:"center",textDecoration:"none",margin:"0.5rem 0",padding:"0.5rem",borderRadius:"12px",backgroundColor:"#fff",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)"}},children:[e.jsx(R,{sx:{bgcolor:"#3f51b5",marginRight:"1rem",fontSize:"3rem",width:"64px",height:"64px"},src:s,children:!s&&o.charAt(0)}),e.jsxs(d,{sx:{flex:"1"},children:[e.jsx(a,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"#333"},children:o}),e.jsx(a,{variant:"body2",color:r?"text.primary":"text.secondary",sx:{marginTop:"0.5rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:2,height:"3em",lineHeight:"1.5em"},children:r||"No messages yet"})]})]})}function F(){const{data:s=[],isLoading:o,error:r}=S({queryKey:["chats"],queryFn:A});return o?e.jsx(c,{}):r?e.jsx("div",{children:"Error loading chats"}):e.jsxs(d,{sx:{width:"100%",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",padding:"1rem",height:"100%",overflowY:"auto",boxSizing:"border-box",textAlign:"left"},children:[e.jsx(a,{variant:"h4",sx:{fontWeight:"bold",marginBottom:"1rem",textAlign:"center",color:"#333"},children:"Chats"}),s.map(t=>e.jsx(E,{name:`${t.matchedUser.firstName} ${t.matchedUser.lastName}`,lastMessage:t.latestMessage,profilePic:t.matchedUser.profilePic,to:`/chats/${t._id}`},t._id)),s.length===0&&e.jsx(a,{variant:"h4",sx:{marginTop:"3rem",textAlign:"center",color:"#777"},children:"You don't have any matches yet, but when you do, you could chat with them here!"})]})}function T(){return e.jsx(F,{})}const z=U("/chats/")({component:k(T),pendingComponent:c});export{z as Route};
